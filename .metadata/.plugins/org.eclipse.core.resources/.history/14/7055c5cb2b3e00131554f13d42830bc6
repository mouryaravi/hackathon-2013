package com.example.broadreciver;

import android.os.Bundle;
import android.app.Activity;
import android.content.BroadcastReceiver;
import android.content.Intent;
import android.content.IntentFilter;
import android.view.Menu;
import android.view.View;

public class MainActivity extends Activity {
	
	
	// There are two ways of doing Reciver registration, One is static, other is dynamic,  Following is dynamice 		
	BroadReceiver brodRec; 
	
	// Intent to start the service
	Intent broadServiceIntent; 

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		
		
		// On create of the Activity , We will say, We want use register the Reciver for an Event generated by Broad Service.
		
		brodRec = new BroadReceiver(); 
		// Make sure you create a IntentFilter which will tell the Event details 
		
		IntentFilter intFilter = new IntentFilter(BoradService.ACTION_BROAD_SERVICE_COMPLETE);
		
		
		// Doc : Call this guy , when there is a above Event happens 
		registerReceiver(brodRec, intFilter); 
				
	}

	@Override
	public boolean onCreateOptionsMenu(Menu menu) {
		// Inflate the menu; this adds items to the action bar if it is present.
		getMenuInflater().inflate(R.menu.main, menu);
		return true;
	}
	
	public void startClick(View view) {
		// Starting a service
		// Doc: Here we can create a service, and we will Launch the service later 
		
		// We use Itent only to start a Serice also, Using startSercice method 
		broadServiceIntent = new Intent(this, BoradService.class);		
		startService(broadServiceIntent);			
	}
		
	@Override
	protected void onDestroy() {
		// TODO Auto-generated method stub
		super.onDestroy();		
		stopService(broadServiceIntent);
	}
}
